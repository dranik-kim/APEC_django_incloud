{% extends "incloud/base.html" %}
{% load static %}

    {% block css %}
        <link href="{% static 'incloud/css/index.css' %}" rel="stylesheet">
    {% endblock %}

    {% block content %}
        <!-- Main Content Area -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-24 mb-16">

            <!-- Promotional Cards Section (Grid 2/1) -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12">
                <!-- Card 1: Горящие цены -->
                <div class="bg-white rounded-xl shadow-lg p-4 border border-gray-100 lg:col-span-2">
                    <h2 class="text-xl font-bold mb-3">
                        <a href="{% url 'support:tickets' %}" class="hover:underline text-blue-600">Горящие цены</a>
                    </h2>                
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Item 1 -->
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm">
                            <!-- Placeholder Image 1 -->
                            <div class="card-img-placeholder bg-cover bg-center"
                                style="background-image: url('https://www.edinarealty.com/media/3678/difference-between-condo.jpg?mode=crop&width=800&height=540');">
                            </div>
                            <div class="p-2 text-sm">
                                <p class="font-medium text-blue-600">Апартаменты</p>
                                <p class="text-xs text-gray-500">2 км от центра</p>
                                <p class="font-bold mt-1 text-base">от 8 500 </p>
                            </div>
                        </div>
                        <!-- Item 2 -->
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm">
                            <!-- Placeholder Image 2 -->
                            <div class="card-img-placeholder bg-cover bg-center"
                                style="background-image: url('https://images.trvl-media.com/lodging/84000000/83530000/83526600/83526593/80723385.jpg?impolicy=resizecrop&rw=575&rh=575&ra=fill');">
                            </div>
                            <div class="p-2 text-sm">
                                <p class="font-medium text-blue-600">Отель </p>
                                <p class="text-xs text-gray-500">Рядом с морем</p>
                                <p class="font-bold mt-1 text-base">от 12 900 </p>
                            </div>
                        </div>
                        <!-- Item 3 (Placeholder for more items to fill the space) -->
                        <div class="hidden md:block bg-gray-50 rounded-lg overflow-hidden shadow-sm">
                            <!-- Placeholder Image 3 -->
                            <div class="card-img-placeholder bg-cover bg-center"
                                style="background-image: url('https://www.adriaticluxuryvillas.com/uploads/images/villa-di-polisane-zadar-dalmatia-1716977474706.jpg');">
                            </div>
                            <div class="p-2 text-sm">
                                <p class="font-medium text-blue-600">Вилла</p>
                                <p class="text-xs text-gray-500">На окраине</p>
                                <p class="font-bold mt-1 text-base">от 6 000 </p>
                            </div>
                        </div>
                        <!-- Item 4 (Placeholder) -->
                        <div class="hidden md:block bg-gray-50 rounded-lg overflow-hidden shadow-sm">
                            <!-- Placeholder Image 4 -->
                            <div class="card-img-placeholder bg-cover bg-center"
                                style="background-image: url('https://ychef.files.bbci.co.uk/624x351/p0m7g4f7.jpg');"></div>
                            <div class="p-2 text-sm">
                                <p class="font-medium text-blue-600">Коттедж</p>
                                <p class="text-xs text-gray-500">С видом на горы</p>
                                <p class="font-bold mt-1 text-base">от 15 000 </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Раз в неделю -->
                <div
                    class="bg-gray-100 rounded-xl shadow-lg p-4 relative overflow-hidden flex flex-col justify-end border border-gray-100">
                    <div class="absolute inset-0 bg-cover bg-center opacity-30"
                        style="background-image: url('https://cdn11.bigcommerce.com/s-3uewkq06zr/images/stencil/1280x1280/products/238/464/fluorescent_orange__65442.1492527693.png?c=2');">
                    </div>
                    <div class="relative z-10">
                        <h2 class="text-xl font-bold mb-2">Раз в неделю...</h2>
                        <p class="text-sm text-gray-700 mb-4">
                            Получайте подборку самых выгодных предложений и лучшие цены на авиабилеты.
                        </p>
                        <a href="{% url 'incloud:demalys' %}"
                            class="bg-blue-600 text-white py-2 px-4 rounded-full text-sm font-semibold hover:bg-blue-700 transition duration-150">
                            Подписаться
                        </a>
                    </div>
                </div>
            </div>

            <!-- Section: Вам может понравиться (Recommended Hotels) -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold mb-6">Вам может понравиться</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {% for hotel in top_hotels %}
                        <div class="bg-white rounded-xl shadow hover:shadow-lg transition p-5">
                            <h3 class="text-lg font-semibold">
                                {{ hotel.name }}
                            </h3>

                            <p class="text-sm text-gray-600">
                                {{ hotel.city }}, {{ hotel.country }}
                            </p>

                            <p class="text-sm mt-2 text-gray-700">
                                {{ hotel.description|truncatechars:90 }}
                            </p>

                            <div class="mt-4 flex justify-between items-center">
                                <span class="font-bold text-blue-600">
                                    {{ hotel.price }} ₸
                                </span>
                                <span class="text-yellow-500 font-medium">
                                    ⭐ {{ hotel.rating }}
                                </span>
                            </div>
                        </div>
                    {% empty %}
                        <p class="text-gray-500">
                            Пока нет отелей для отображения
                        </p>
                    {% endfor %}
                </div>
                <div class="text-center mt-6">
                    <a href="{% url 'incloud:ari_beri' %}"
                        class="text-blue-600 font-medium hover:text-blue-800 transition duration-150 border-b border-blue-600 pb-1">Посмотреть
                        все отели</a>
                </div>
            </section>

            <!-- Section: Карта цен (Price Map) -->
            <section
                class="bg-white rounded-xl shadow-lg p-6 flex flex-col lg:flex-row items-center mb-12 border border-gray-100">
                <div class="lg:w-1/2 mb-4 lg:mb-0">
                    <h2 class="text-2xl font-bold mb-3">Карта цен</h2>
                    <p class="text-gray-600 mb-4">
                        Найдите самые выгодные предложения по всему миру на интерактивной карте. Просто выберите пункт
                        отправления.
                    </p>
                    <a
                        class="bg-blue-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-blue-700 transition duration-150 shadow-md">
                        Открыть
                    </a>
                </div>
                <div class="lg:w-1/2">
                    <!-- Map Image -->
                    <div
                        class="w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center border border-gray-300 overflow-hidden">
                        <img src="https://img.freepik.com/premium-vector/world-map-plane-tracks-aviation-track-path-world-map-airplane-route-line-travel-routes-illustration_102902-782.jpg"
                            alt="Интерактивная карта мира" class="w-full h-full object-cover rounded-lg">
                    </div>
                </div>

            </section>

            <!-- Section - Categories -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold mb-6">Достопримечательности</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Item 1 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md">
                        <div class="h-24 card-img-placeholder"
                            style="background-image: url('https://www.avantiwestcoast.co.uk/-/media/Rail-200/History-of-the-Railway/Who-invented-the-steam-train/Steam-passenger-train.jpg?h=402&w=600');">
                        </div>
                        <div class="p-3 text-sm">
                            <p class="font-bold">Поезда</p>
                            <p class="text-xs text-gray-500">Комфортные вагоны</p>
                        </div>
                    </div>
                    <!-- Item 2 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md">
                        <div class="h-24 card-img-placeholder"
                            style="background-image: url('https://bunny-wp-pullzone-nfqzsydbnl.b-cdn.net/wp-content/uploads/2024/01/eyfel-paris.jpg');">
                        </div>
                        <div class="p-3 text-sm">
                            <p class="font-bold">Башни</p>
                            <p class="text-xs text-gray-500">Экскурсии на высоте</p>
                        </div>
                    </div>
                    <!-- Item 3 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md">
                        <div class="h-24 card-img-placeholder"
                            style="background-image: url('https://traveltriviachallenge.com/wp-content/uploads/2022/04/Capital-Cities-of-the-World-TTC-e1650492350320.png');">
                        </div>
                        <div class="p-3 text-sm">
                            <p class="font-bold">Столицы</p>
                            <p class="text-xs text-gray-500">Главные города мира</p>
                        </div>
                    </div>
                    <!-- Item 4 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md">
                        <div class="h-24 card-img-placeholder"
                            style="background-image: url('https://www.whoi.edu/wp-content/uploads/2025/08/Generic-Ocean-4-16x9-1.jpg');">
                        </div>
                        <div class="p-3 text-sm">
                            <p class="font-bold">Океан</p>
                            <p class="text-xs text-gray-500">Морские приключения</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Destination Banners -->
            <section class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                <!-- Kazan Banner -->
                <div class="relative rounded-xl overflow-hidden shadow-lg h-64 md:h-80 border border-gray-200">
                    <div class="absolute inset-0 bg-cover bg-center"
                        style="background-image: url('https://img.static-af.com/transform/45cb9a13-b167-4842-8ea8-05d0cc7a4d04/');">
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-30"></div>
                    <div class="absolute bottom-6 left-6 text-white p-2">
                        <p class="text-sm font-light">Специальное предложение</p>
                        <h3 class="text-4xl font-extrabold mb-1">ПАРИЖ</h3>
                        <p class="text-lg">МЕЧТА, ВДОХНОВЕНИЕ, ПАРИЖ.</p>
                    </div>
                </div>

                <!-- Milan Banner -->
                <div class="relative rounded-xl overflow-hidden shadow-lg h-64 md:h-80 border border-gray-200">
                    <div class="absolute inset-0 bg-cover bg-center"
                        style="background-image: url('https://mediaim.expedia.com/destination/9/079e70457ebca60209c39fae1d3c347f.jpg');">
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-30"></div>
                    <div class="absolute bottom-6 left-6 text-white p-2">
                        <p class="text-sm font-light">Специальное предложение</p>
                        <h3 class="text-4xl font-extrabold mb-1">МИЛАН</h3>
                        <p class="text-lg">МОДНЫЙ, СТИЛЬНЫЙ, МИЛАН.</p>
                    </div>
                </div>
            </section>

            <!-- Section: Scroll to End CTA -->
            <section class="bg-gray-200 rounded-xl py-12 mb-12 flex flex-col items-center border border-gray-200">
                <h2 class="text-2xl font-light text-gray-700 mb-2">Долистали до конца?</h2>
                <a href="#"
                    class="text-blue-600 text-3xl font-extrabold hover:text-blue-800 transition duration-150">Вернуться
                    в начало!</a>
                <div class="mt-8 w-full max-w-lg relative">
                    <form method="get" action="{% url 'incloud:ari_beri' %}" class="relative max-w-lg mx-auto bg-white rounded-full shadow-xl flex items-center p-1">
                        <input
                            type="text"
                            name="q"
                            value="{{ query }}"
                            placeholder="Куда отправимся?"
                            class="w-full py-3 pl-6 pr-4 rounded-full text-gray-700 focus:outline-none"
                        >
                        <div>
                            <!-- Кнопка с иконкой камеры/объектива -->
                            <button type="submit"
                                class="w-14 h-14 rounded-full search-gradient flex items-center justify-center p-1 shadow-md hover:opacity-90 transition">
                                <!-- Имитация иконки с градиентным фоном -->
                                <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center">
                                    <!-- Иконка камеры (Lucide React equivalent or SVG) -->
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                        stroke="#60A5FA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                        class="w-5 h-5">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon">
                                            <circle cx="11" cy="11" r="8"></circle>
                                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                        </svg>
                                    </svg>
                                </div>
                            </button>
                        </div>
                    </form>
                </div>
                <p class="text-xs text-gray-500 mt-4">
                    Мы не храним ваши данные и не передаем их третьим лицам.
                </p>
            </section>
        </main>
    {% endblock %}

    {% block footer %}
        <!-- Footer Links Section -->
        <footer class="bg-white border-t border-gray-100 pt-10 pb-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-2 md:grid-cols-6 gap-8 text-sm">
                    <div>
                        <h4 class="font-bold mb-3">Отели</h4>
                        <ul class="space-y-2 text-gray-600">
                            <li><a href="{% url 'incloud:ari_beri' %}">Поиск отелей</a></li>
                            <li><a href="{% url 'incloud:ari_beri' %}">Хостелы</a></li>
                            <li><a href="{% url 'incloud:ari_beri' %}">Апартаменты</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-3">События</h4>
                        <ul class="space-y-2 text-gray-600">
                            <li><a href="#">Концерты</a></li>
                            <li><a href="#">Выставки</a></li>
                            <li><a href="#">Фестивали</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-3">Помощь</h4>
                        <ul class="space-y-2 text-gray-600">
                            <li><a href="{% url 'incloud:support' %}">FAQ</a></li>
                            <li><a href="{% url 'incloud:support' %}">Контакты</a></li>
                            <li><a href="{% url 'incloud:support' %}">Поддержка</a></li>
                        </ul>
                    </div>
                    <!-- This section covers the last two columns on desktop -->
                    <div class="col-span-2">
                        <h4 class="font-bold mb-3">Популярные направления</h4>
                        <!-- The image shows dropdowns with placeholder content. -->
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <select class="p-2 border rounded-lg text-gray-700 w-full">
                                <option>Азия</option>
                                <option>Европа</option>
                            </select>
                            <select class="p-2 border rounded-lg text-gray-700 w-full">
                                <option>Россия</option>
                                <option>США</option>
                            </select>
                            <select class="p-2 border rounded-lg text-gray-700 w-full">
                                <option>Аэропорт</option>
                                <option>Город</option>
                            </select>
                            <select class="p-2 border rounded-lg text-gray-700 w-full">
                                <option>Город</option>
                            </select>
                            <select class="p-2 border rounded-lg text-gray-700 w-full">
                                <option>Страна</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div
                    class="mt-12 flex flex-col sm:flex-row justify-between items-center border-t pt-6 text-xs text-gray-500">
                    <div class="flex space-x-4 mb-4 sm:mb-0">
                        <p>© 2024 RCloud</p>
                        <a href="#" class="hover:text-blue-600">Политика конфиденциальности</a>
                        <a href="#" class="hover:text-blue-600">Условия использования</a>
                    </div>
                    <div class="flex space-x-3 items-center">
                        <!-- Social icons placeholder -->
                        <div class="w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">F</div>
                        <div class="w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center">T</div>
                    </div>
                </div>
            </div>
        </footer>
    {% endblock %}
